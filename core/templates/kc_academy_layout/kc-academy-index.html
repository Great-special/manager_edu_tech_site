{% extends 'ihrdc_layout/base.html' %}
{% block title %}I-Citadel - Home{% endblock %}

{% load static %}
{% load i18n %}
{% load humanize %}
    <!-- Main Content -->
    <main>
        {% block content %}
        <!-- Hero Slideshow Section -->
        <section class="hero-slideshow">
            <div class="slide active" style="background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0,0,0,0.35)), url({% static 'academy_layout\images\StrategicLeadershipAction.png' %});">
                <div class="slide-content">
                    {% blocktrans %}
                    <h2>Lead the Change: Essential Skills for Today, Vision to Innovate Tomorrow</h2>
                    <p>Strengthening Talent, Accelerating Impact: Future-Ready Training Strategies</p>
                    {% endblocktrans %}
                    <a href="{% url 'categories' %}" class="btn">{% trans "Explore Our Programs" %}</a>
                </div>
            </div>
            <div class="slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url({% static 'academy_layout\images\CollaborativeLeadershipWorkshopProgress.png' %});">
                <div class="slide-content">
                    {% blocktrans %}
                        <h2>Equip for Tomorrow: Skills That Matter, Strategies That Last</h2>
                        <p>Empowering People, Fueling Progress: Targeted Workforce Development Solutions</p>
                    {% endblocktrans %}
                    <a href="{% url 'categories' %}" class="btn">{% trans "Our Approach" %}</a>
                </div>
            </div>
            <div class="slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url({% static 'academy_layout\images\StrategicLeadershipAction.png' %});">
                <div class="slide-content">
                    {% blocktrans %}
                    <h2>Building Smarter Teams: Capabilities for Now, Vision for the Future</h2>
                    <p>Empowering Talent, Advancing Nations: Tailored Training for Growth</p>
                    {% endblocktrans %}
                    <a href="{% url "categories" %}" class="btn">{% trans "Our Courses" %}</a>
                </div>
            </div>
            <div class="slide-indicators">
                <div class="indicator active"></div>
                <div class="indicator"></div>
                <div class="indicator"></div>
            </div>
        </section>

        <!-- Training Categories Section -->
        <section class="training-categories" id="courses">
            <div class="container">
            <div class="content-wrapper">
                {% blocktrans %}
                <div class="categories-header">
                    <h2>Training Categories</h2>
                    <h3>Diverse training for an evolving society</h3>
                    <p>In today’s rapidly evolving world, continuous growth is key.</p>
                    <p>i-Citadel Exzellenz provides a wide array of strategic, industry-relevant training programs designed to empower your team with future-ready skills.<p/>
                        <p>Discover our expert-led offerings and elevate your organization’s performance.</p>
                </div>
                {% endblocktrans %}
                <div class="carousel-container">
                    <div class="category-carousel" id="categoryCarousel">
                        <div class="category-card" onclick="location.href='{% url "leadership_development" %}'">
                            <h4>{% trans "Leadership Development" %}</h4>
                        <p>{% trans "Transform your organization's leadership capacity with programs designed to empower decision-makers at all levels." %} <a href="{% url "leadership_development" %}">{% trans "Explore Training" %}</a></p>
                        </div>
                        
                        <div class="category-card" onclick="location.href='{% url "professional_skills" %}'">
                            <h4>{% trans "Professional Skills" %}</h4>
                        <p>{% trans "Enhance core competencies essential for workplace success and career advancement in any industry." %} <a href="{% url "professional_skills" %}">{% trans "Explore Training" %}</a></p>
                        </div>
                        
                        <div class="category-card" onclick="location.href='{% url "technical_training" %}'">
                            <h4>{% trans "Technical Training" %}</h4>
                        <p>{% trans "Master specialized skills and stay current with the latest industry developments and technologies." %} <a href="{% url "technical_training" %}">{% trans "Explore Training" %}</a></p>
                        </div>

                        <div class="category-card" onclick="location.href='{% url "digital_marketing" %}'">
                            <h4>Digital Marketing</h4>
                            <p>Learn cutting-edge digital marketing strategies to grow your business and reach your target audience effectively. <a href="{% url "digital_marketing" %}">{% trans "Explore Training" %}</a></p>
                        </div>

                        <div class="category-card" onclick="location.href='{% url "project_management" %}'">
                            <h4>Project Management</h4>
                            <p>Develop essential project management skills to deliver successful outcomes on time and within budget. <a href="{% url "project_management" %}">{% trans "Explore Training" %}</a></p>
                        </div>
                    </div>
                    
                    <div class="carousel-controls">
                        <button class="carousel-btn" id="prevBtn">‹</button>
                        <button class="carousel-btn" id="nextBtn">›</button>
                    </div>

                    <div class="carousel-indicators" id="indicators"></div>

                </div>
            </div>
        </div>



            {% comment %} <div class="container">
                {% blocktrans %}
                <div class="categories-header">
                    <h2>Training Categories</h2>
                    <h3>Diverse training for an evolving society</h3>
                    <p>Discover our diverse training programs tailored to equip professionals across multiple industries with the skills and knowledge needed to excel.</p>
                </div>
                {% endblocktrans %}
                <div class="category-grid">
                    <div class="category-card">
                        <h4>{% trans "Leadership Development" %}</h4>
                        <p>{% trans "Transform your organization's leadership capacity with programs designed to empower decision-makers at all levels." %} <a href="{% url "leadership_development" %}">{% trans "See Courses" %}</a></p>
                    </div>
                    
                    <div class="category-card">
                        <h4>{% trans "Professional Skills" %}</h4>
                        <p>{% trans "Enhance core competencies essential for workplace success and career advancement in any industry." %} <a href="{% url "professional_skills" %}">{% trans "See Courses" %}</a></p>
                    </div>
                    
                    <div class="category-card">
                        <h4>{% trans "Technical Training" %}</h4>
                        <p>{% trans "Master specialized skills and stay current with the latest industry developments and technologies." %} <a href="{% url "technical_training" %}">{% trans "See Courses" %}</a></p>
                    </div>
                </div>
                
            </div> {% endcomment %}

        </section>

        <!-- What We Do Section -->
        <section class="what-we-do">
            <div class="container">
                
                <h2>{% trans "What We Do" %}</h2>
                
                <div class="offerings-grid">
                    <div class="offering-card">
                        <h3>{% trans "Professional Training" %}</h3>
                        <p>{% trans "Industry-specific, in-person training programs delivered by experts." %} <a href="{% url "leadership_development" %}">{% trans "Explore Training" %}</a></p>
                    </div>
                    
                    <div class="offering-card">
                        <h3>{% trans "Upskilling/Reskilling" %}</h3>
                        <p>{% trans "Keep your talent ahead of trends with adaptive learning solutions." %} <a href="{% url "upskilling_reskilling" %}">{% trans "Explore Training" %}</a></p>
                    </div>
                    
                    <div class="offering-card">
                        <h3>{% trans "Certification" %}</h3>
                        <p>{% trans "Recognized qualifications that validate professional expertise." %} <a href="{% url "certification" %}">{% trans "Explore Training" %}</a></p>
                    </div>
                    
                    <div class="offering-card">
                        <h3>{% trans "Consultancy" %}</h3>
                        <p>{% trans "Custom frameworks and solutions for organizational development." %}  <a href="{% url "consultancy" %}">{% trans "Explore Training" %}</a></p>
                    </div>
                    
                </div>
            </div>
        </section>

        <!-- Popular Courses Section -->
        <section class="popular-courses">
            <div class="container">
                <h2 class="section-title">{% trans "Popular Courses" %}</h2>
                <div class="courses-grid">
                    {% for course in popular_courses %}
                    <div class="course-card">
                        {% if course.image %}
                        <div class="course-image">
                            <img src="{{ course.image.url }}" alt="{{ course.title }}">
                        </div>
                        {% else %}
                        <div class="course-image">
                            <img src="{% static 'layout/images/default_course_img.jfif' %}" alt="{{ course.title }}">
                        </div>
                        {% endif %}
                        <div class="course-content">
                            <span class="course-category">{{ course.category }}</span>
                            <h3>{{ course.title }}</h3>
                            <p>{{ course.description|truncatewords:20 }}</p>
                            <div class="course-meta">
                                <span><i class="fas fa-clock"></i> {{ course.duration }}</span>
                                <span><i class="fas fa-user-graduate"></i> {{ course.enrolled_students }} students</span>
                            </div>
                            <div class="course-footer">
                                <span class="price m-2">${{ course.price| intcomma }}</span>
                                <a href="{% url 'course_detail' course.id %}" class="btn btn-primary d-block mx-3 mt-3" style="width:200px">{% translate "learn more" %}</a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="text-center">
                    <a href="{% url 'courses' %}" style="margin-top: 20px;" class="btn bespoke-btn">{% trans "View All Courses" %}</a>
                </div>
            </div>
        </section>


        <!-- Bespoke Training Section -->
        <section class="bespoke-training">
            <div class="container">
                {% blocktrans %}
                <h2>Bespoke Training: Your Uniquely Crafted Learning Journey</h2>
                <p>Discover custom training solutions designed specifically for your organization's needs and challenges.</p>
                {% endblocktrans %}
                <a href="{% url "courses" %}" class="btn bespoke-btn">{% trans "Discover Custom Training" %}</a>
            </div>
        </section>

        <!-- Services Section -->
        <section class="services" id="services">
            <div class="container">
                <div class="services-grid">
                    <div class="service-card">
                        <img src="{% static 'academy_layout\images\training.png' %}" alt="Service 1" class="service-image">
                        <div class="service-overlay">
                            <h3>{% trans "Executive Coaching" %}</h3>
                        </div>
                    </div>
                    
                    <div class="service-card">
                        <img src="{% static 'academy_layout\images\bespoken.png' %}" alt="Service 1" class="service-image">
                        <div class="service-overlay">
                            <h3>{% trans "Bespoke Training" %}</h3>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Why Choose Us Section -->
        <section class="why-choose-us" id="about">
            <div class="container">
                <div class="choose-header">
                    <h2>Why Choose i-Citadel Exzellenz</h2>
                </div>
                
                <div class="reasons-grid">
                    <div class="reason-card">
                        <h3>Expert Facilitators</h3>
                        <p>Learn from industry leaders with proven expertise and real-world experience.</p>
                    </div>
                    
                    <div class="reason-card">
                        <h3>Tailored Approach</h3>
                        <p>Programs customized to address your specific organizational challenges and goals.</p>
                    </div>
                    
                    <div class="reason-card">
                        <h3>Measurable Results</h3>
                        <p>Training solutions focused on delivering tangible outcomes and ROI.</p>
                    </div>
                </div>
            </div>
        </section>

        <script>
            class CategoryCarousel {
                constructor() {
                    this.carousel = document.getElementById('categoryCarousel');
                    this.prevBtn = document.getElementById('prevBtn');
                    this.nextBtn = document.getElementById('nextBtn');
                    this.indicatorsContainer = document.getElementById('indicators');
                    this.cards = this.carousel.querySelectorAll('.category-card');
                    this.currentIndex = 0;
                    this.cardWidth = 320; // 300px + 20px gap
                    this.visibleCards = this.getVisibleCards();
                    this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);
                    
                    // Auto-scroll settings
                    this.autoScrollInterval = null;
                    this.autoScrollDelay = 4000; // 4 seconds
                    this.isPaused = false;
                    
                    this.init();
                    this.createIndicators();
                    this.updateCarousel();
                    this.startAutoScroll();
                    
                    // Handle window resize
                    window.addEventListener('resize', () => {
                        this.visibleCards = this.getVisibleCards();
                        this.maxIndex = Math.max(0, this.cards.length - this.visibleCards);
                        this.currentIndex = Math.min(this.currentIndex, this.maxIndex);
                        this.updateCarousel();
                    });
                }
                
                getVisibleCards() {
                    const containerWidth = this.carousel.parentElement.offsetWidth;
                    return Math.floor(containerWidth / this.cardWidth);
                }
                
                init() {
                    this.prevBtn.addEventListener('click', () => {
                        this.prev();
                        this.resetAutoScroll();
                    });
                    this.nextBtn.addEventListener('click', () => {
                        this.next();
                        this.resetAutoScroll();
                    });
                    
                    // Pause on hover
                    this.carousel.addEventListener('mouseenter', () => this.pauseAutoScroll());
                    this.carousel.addEventListener('mouseleave', () => this.resumeAutoScroll());
                    
                    // Pause on button hover
                    this.prevBtn.addEventListener('mouseenter', () => this.pauseAutoScroll());
                    this.prevBtn.addEventListener('mouseleave', () => this.resumeAutoScroll());
                    this.nextBtn.addEventListener('mouseenter', () => this.pauseAutoScroll());
                    this.nextBtn.addEventListener('mouseleave', () => this.resumeAutoScroll());
                }
                
                createIndicators() {
                    this.indicatorsContainer.innerHTML = '';
                    const totalPages = this.maxIndex + 1;
                    
                    for (let i = 0; i < totalPages; i++) {
                        const indicator = document.createElement('div');
                        indicator.className = 'indicator';
                        if (i === 0) indicator.classList.add('active');
                        indicator.addEventListener('click', () => this.goToSlide(i));
                        this.indicatorsContainer.appendChild(indicator);
                    }
                }
                
                updateCarousel() {
                    const translateX = -this.currentIndex * this.cardWidth;
                    this.carousel.style.transform = `translateX(${translateX}px)`;
                    
                    // Update button states
                    this.prevBtn.disabled = this.currentIndex === 0;
                    this.nextBtn.disabled = this.currentIndex >= this.maxIndex;
                    
                    // Update indicators
                    const indicators = this.indicatorsContainer.querySelectorAll('.indicator');
                    indicators.forEach((indicator, index) => {
                        indicator.classList.toggle('active', index === this.currentIndex);
                    });
                }
                
                prev() {
                    if (this.currentIndex > 0) {
                        this.currentIndex--;
                        this.updateCarousel();
                    }
                }
                
                next() {
                    if (this.currentIndex < this.maxIndex) {
                        this.currentIndex++;
                        this.updateCarousel();
                    }
                }
                
                goToSlide(index) {
                    this.currentIndex = Math.min(Math.max(0, index), this.maxIndex);
                    this.updateCarousel();
                    this.resetAutoScroll();
                }
                
                startAutoScroll() {
                    this.autoScrollInterval = setInterval(() => {
                        if (!this.isPaused) {
                            if (this.currentIndex >= this.maxIndex) {
                                // Reset to beginning when reaching the end
                                this.currentIndex = 0;
                            } else {
                                this.currentIndex++;
                            }
                            this.updateCarousel();
                        }
                    }, this.autoScrollDelay);
                }
                
                stopAutoScroll() {
                    if (this.autoScrollInterval) {
                        clearInterval(this.autoScrollInterval);
                        this.autoScrollInterval = null;
                    }
                }
                
                pauseAutoScroll() {
                    this.isPaused = true;
                }
                
                resumeAutoScroll() {
                    this.isPaused = false;
                }
                
                resetAutoScroll() {
                    this.stopAutoScroll();
                    this.startAutoScroll();
                }
            }
            
            // Initialize carousel when DOM is loaded
            document.addEventListener('DOMContentLoaded', () => {
                new CategoryCarousel();
            });
        </script>
        {% endblock %}
    </main>

    <!-- Footer -->
    
</body>
</html>